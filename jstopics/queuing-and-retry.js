hmLoadTopic({
hmKeywords:"",
hmTitle:"Queuing and retry",
hmDescription:"When clients commission the Cloud To Device Distribution Service with a task the Cloud To Device Distribution Service will first persist this task in a storage and will then...",
hmPrevLink:"c2dd-messgetype-firmware-update.html",
hmNextLink:"reacting-to-topology-changes.html",
hmParentLink:"c2dd.html",
hmBreadCrumbs:"<a href=\"backend-infrastructure.html\">Backend infrastructure<\/a> &gt; <a href=\"c2dd.html\">Cloud To Device Distribution Service<\/a>",
hmTitlePath:"Backend infrastructure > Cloud To Device Distribution Service > Queuing and retry",
hmHeader:"<h1 class=\"p_Heading1\"><span class=\"f_Heading1\">Queuing and retry<\/span><\/h1>\n\r",
hmBody:"<p class=\"p_Normal\">When clients commission the Cloud To Device Distribution Service with a task the Cloud To Device Distribution Service will first persist this task in a storage and will then immediately queue it for distribution. If the client did not specify an earliest delivery date the earliest delivery date will be the current date and time when the task was received by the Cloud To Device Distribution Service. The Cloud To Device Distribution Service will also remember the date and time when the task was commissioned.<\/p>\n\r<p class=\"p_Normal\">Task 1, CreatedAt, DistirbuteAt, TTL, RetryAt, RetryCount, Status (queued, no communication path)<\/p>\n\r<p class=\"p_CodeExample\" style=\"page-break-inside: avoid; page-break-after: avoid;\"><span class=\"f_CodeExample\">Select TOP 1 * <\/span><\/p>\n\r<p class=\"p_CodeExample\" style=\"page-break-inside: avoid; page-break-after: avoid;\"><span style=\"width:3.0000rem;display:inline-block\">&nbsp;<\/span><span class=\"f_CodeExample\">FROM Tasks <\/span><\/p>\n\r<p class=\"p_CodeExample\" style=\"page-break-inside: avoid; page-break-after: avoid;\"><span style=\"width:3.0000rem;display:inline-block\">&nbsp;<\/span><span class=\"f_CodeExample\">WHERE <\/span>DistirbuteAt<span class=\"f_CodeExample\"> &lt;= CurrentDateTime AND <\/span><\/p>\n\r<p class=\"p_CodeExample\" style=\"page-break-inside: avoid; page-break-after: avoid;\"><span style=\"width:3.0000rem;display:inline-block\">&nbsp;<\/span><span class=\"f_CodeExample\"> &nbsp; &nbsp;  <\/span>RetryAt<span class=\"f_CodeExample\"> &lt; CrurrentDateTime <\/span><\/p>\n\r<p class=\"p_CodeExample\" style=\"page-break-inside: avoid; page-break-after: avoid;\"><span style=\"width:3.0000rem;display:inline-block\">&nbsp;<\/span><span class=\"f_CodeExample\">ORDER By CommisionedAt<\/span><\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_CodeExample\" style=\"page-break-inside: avoid; page-break-after: avoid;\">If a task cannot be processed because no communication path is found the service will set a RetryAt to some time in future (possible based on RetryCount). <\/p>\n\r<p class=\"p_Normal\">If the DLMS gives new information about topology and the status of a task is no communication path, the RetryAfter is set to the current date and time to initiate the earliest possible retry.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r"
})
